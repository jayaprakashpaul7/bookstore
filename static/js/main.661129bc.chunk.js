(this.webpackJsonpbookhub=this.webpackJsonpbookhub||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(31),o=a.n(c),i=a(5),r=(a(39),a(4)),l=a(11),u=a.n(l),b=a(16),d=a(12),j=a(13),h=a(15),p=a(14),m=(a(41),a(8)),O=a.n(m),x=a(1),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",error:"",showErrorMsg:!1},e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onSubmitSuccess=function(t){O.a.set("jwt_token",t.jwt_token,{expires:30}),e.props.history.replace("/")},e.onFailure=function(t){e.setState({error:t.error_msg,showErrorMsg:!0})},e.handleLogin=function(){var t=Object(b.a)(u.a.mark((function t(a){var s,n,c,o,i,r,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state,n=s.username,c=s.password,"https://apis.ccbp.in/login",o={username:n,password:c},i={method:"POST",body:JSON.stringify(o)},t.next=7,fetch("https://apis.ccbp.in/login",i);case 7:return r=t.sent,t.next=10,r.json();case 10:l=t.sent,r.ok?e.onSubmitSuccess(l):e.onFailure(l);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,s=e.error,n=e.showErrorMsg;return void 0!==O.a.get("jwt_token")?Object(x.jsx)(r.a,{to:"/"}):Object(x.jsxs)("div",{className:"login-container",children:[Object(x.jsx)("div",{className:"mobile-c",children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729157256/Rectangle_1467_aajojd.png",alt:"website login",className:"login-img"})}),Object(x.jsx)("div",{className:"desktop-c",children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729157304/Rectangle_1467_e9pple.png",alt:"Login Desktop",className:"login-desktop-img"})}),Object(x.jsxs)("form",{className:"form",onSubmit:this.handleLogin,children:[Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729157205/Group_7732_cdkppt.png",alt:"login website logo",className:"website-logo"}),Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("label",{htmlFor:"text",children:"Username*"}),Object(x.jsx)("input",{type:"text",id:"text",className:"form-input",placeholder:"Enter your Username",value:t,onChange:this.onChangeUsername})]}),Object(x.jsxs)("div",{className:"input-container",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password*"}),Object(x.jsx)("input",{type:"password",id:"password",className:"form-input",placeholder:"Enter your password",value:a,onChange:this.onChangePassword})]}),Object(x.jsx)("button",{type:"submit",className:"login-btn",children:"Login"}),Object(x.jsx)("p",{className:"error",children:n?s:""})]})]})}}]),a}(s.Component),v=g,k=a(21),f=a(34),N=a.n(f),w=a(18),S=a.n(w),y=(a(79),a(80),a(81),"INITIAL"),C="SUCCESS",_="FAILURE",A="IN_PROGRESS",B={dots:!1,infinite:!1,speed:500,slidesToShow:4,adaptiveHeight:!1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]},T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={favBooksData:[],apiStatus:y},e.getFavBooks=Object(b.a)(u.a.mark((function t(){var a,s,n,c,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:A}),"https://apis.ccbp.in/book-hub/top-rated-books",a=O.a.get("jwt_token"),s={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/book-hub/top-rated-books",s);case 6:if(!(n=t.sent).ok){t.next=16;break}return t.next=10,n.json();case 10:c=t.sent,o=c.books,i=o.map((function(e){return{id:e.id,authorName:e.author_name,coverPic:e.cover_pic,title:e.title}})),e.setState({favBooksData:i,apiStatus:C}),t.next=17;break;case 16:e.setState({apiStatus:_});case 17:case"end":return t.stop()}}),t)}))),e.failureView=function(){return Object(x.jsxs)("div",{className:"failure-view",children:[Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1735955098/Group_7522_ofuhzp.png",alt:"failure view",className:"failure-view-img"}),Object(x.jsx)("p",{children:"Something went wrong. Please try again"}),Object(x.jsx)("button",{type:"button",className:"try-again-btn",onClick:e.getFavBooks,children:"Try Again"})]})},e.renderSlider=function(){var t=e.state.favBooksData;return Object(x.jsx)(N.a,Object(k.a)(Object(k.a)({},B),{},{className:"slider-container",children:t.map((function(e){var t=e.id,a=e.coverPic,s=e.title,n=e.authorName;return Object(x.jsx)(i.b,{to:"/books/".concat(t),className:"slick-item slider-link",children:Object(x.jsx)("ul",{style:{paddingLeft:0},children:Object(x.jsxs)("li",{style:{listStyleType:"none"},children:[Object(x.jsx)("img",{className:"slick-item-pic",src:a,alt:"company logo"}),Object(x.jsx)("h1",{children:s}),Object(x.jsx)("p",{children:n})]})})},t)}))}))},e.loaderView=function(){return Object(x.jsx)("div",{className:"loader-container",testid:"loader",children:Object(x.jsx)(S.a,{type:"TailSpin",color:"#0284C7",height:50,width:50})})},e.renderAll=function(){switch(e.state.apiStatus){case C:return e.renderSlider();case _:return e.failureView();case A:return e.loaderView();default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getFavBooks()}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"main-container",children:[Object(x.jsx)("h1",{children:"Top rated Books"}),Object(x.jsx)("div",{children:this.renderAll()})]})}}]),a}(s.Component),L=T,D=(a(82),a(83),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={isMenuOpen:!1},e.onClickLogout=function(){O.a.remove("jwt_token"),e.props.history.replace("/login")},e.onClickMenu=function(){e.setState((function(e){return{isMenuOpen:!e.isMenuOpen}}))},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.isMenuOpen;return Object(x.jsxs)("nav",{className:"navbar-header",children:[Object(x.jsxs)("div",{className:"content-mobile",children:[Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729157205/Group_7732_cdkppt.png",alt:"website logo",className:"logo"})}),Object(x.jsx)("button",{className:"nav-btn",type:"button","aria-expanded":e,"aria-label":"Toggle Menu",onClick:this.onClickMenu,children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729158353/menu_wfwcri.png",alt:"menu"})})]}),Object(x.jsx)("div",{className:"h-flex",children:e&&Object(x.jsxs)("ul",{className:"navbar-ul h-link",children:[Object(x.jsx)(i.b,{to:"/",className:"h-link",children:Object(x.jsx)("li",{className:"navbar-li",children:"Home"})}),Object(x.jsx)(i.b,{to:"/shelf",className:"h-link",children:Object(x.jsx)("li",{className:"navbar-li",children:"Bookshelves"})}),Object(x.jsx)("li",{className:"navbar-li",children:Object(x.jsx)("button",{className:"logout-btn",type:"button",onClick:this.onClickLogout,children:"Logout"})}),Object(x.jsx)("li",{children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1737454792/Solid_pq4r4a.png",alt:"close",onClick:this.onClickMenu})})]})}),Object(x.jsxs)("div",{className:"content-desktop",children:[Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1729157205/Group_7732_cdkppt.png",alt:"website logo",className:"logo"})}),Object(x.jsxs)("ul",{className:"navbar-ul",children:[Object(x.jsx)(i.b,{to:"/",className:"h-link",children:Object(x.jsx)("li",{className:"navbar-li",children:"Home"})}),Object(x.jsx)(i.b,{to:"/shelf",className:"h-link",children:Object(x.jsx)("li",{className:"navbar-li",children:"Bookshelves"})}),Object(x.jsx)("li",{className:"navbar-li",children:Object(x.jsx)("button",{type:"button",className:"logout-btn",onClick:this.onClickLogout,children:"Logout"})})]})]})]})}}]),a}(s.Component)),R=Object(r.g)(D),E=a(22),I=(a(84),function(){return Object(x.jsxs)("div",{className:"footer",children:[Object(x.jsxs)("div",{className:"social-icons-container",children:[Object(x.jsx)(E.a,{className:"social-icon"}),Object(x.jsx)(E.c,{className:"social-icon"}),Object(x.jsx)(E.b,{className:"social-icon"}),Object(x.jsx)(E.d,{className:"social-icon"})]}),Object(x.jsx)("p",{className:"footer-heading",children:"Contact us"})]})}),F=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(R,{}),Object(x.jsxs)("div",{className:"home-bg",children:[Object(x.jsxs)("div",{className:"home-text-container",children:[Object(x.jsx)("h1",{className:"title",children:"Find Your Next Favorite Books?"}),Object(x.jsx)("p",{className:"description",children:"You are in the right place. Tell us what titles or genres you have enjoyed in the past, and we will give you surprisingly insightful recommendations."}),Object(x.jsx)(i.b,{className:"hm-link",to:"/shelf",children:Object(x.jsx)("button",{className:"find-book-btn",type:"button",children:"Find Books"})})]}),Object(x.jsx)(L,{}),Object(x.jsx)(I,{})]})]})},P=(a(85),a(20)),G=(a(86),function(e){var t=e.bookshelves,a=e.onClickFilterBooks,s=e.onClickLabel,n=e.isActive,c=t.id,o=t.value,i=t.label,r=n?"read-status-btn":"read-btn";return Object(x.jsx)("li",{className:"label-item",children:Object(x.jsx)("button",{type:"button",onClick:function(){a(o),s(i)},className:"".concat(r," btn"),children:i})},c)}),M="INITIAL",U="SUCCESS",V="FAILURE",z="IN_PROGRESS",W=[{id:"22526c8e-680e-4419-a041-b05cc239ece4",value:"ALL",label:"All"},{id:"37e09397-fab2-46f4-9b9a-66b2324b2e22",value:"READ",label:"Read"},{id:"2ab42512-3d05-4fba-8191-5122175b154e",value:"CURRENTLY_READING",label:"Currently Reading"},{id:"361d5fd4-9ea1-4e0c-bd47-da2682a5b7c8",value:"WANT_TO_READ",label:"Want to Read"}],Y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchInput:"",booksData:[],shelf:W[0].value,label:W[0].label,apiStatus:M},e.getBooksData=Object(b.a)(u.a.mark((function t(){var a,s,n,c,o,i,r,l,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:z}),a=e.state,s=a.searchInput,n=a.shelf,c=O.a.get("jwt_token"),o="https://apis.ccbp.in/book-hub/books?shelf=".concat(n,"&search=").concat(s),i={method:"GET",headers:{Authorization:"Bearer ".concat(c)}},t.next=7,fetch(o,i);case 7:if(!(r=t.sent).ok){t.next=16;break}return t.next=11,r.json();case 11:l=t.sent,b=l.books.map((function(e){return{id:e.id,title:e.title,authorName:e.author_name,coverPic:e.cover_pic,rating:e.rating,readStatus:e.read_status}})),e.setState({booksData:b,apiStatus:U}),t.next=17;break;case 16:e.setState({apiStatus:V});case 17:case"end":return t.stop()}}),t)}))),e.onChangeSearchInput=function(t){e.setState({searchInput:t.target.value})},e.onClickSearch=function(){e.getBooksData()},e.onClickFilterBooks=function(t){e.setState({shelf:t},e.getBooksData)},e.onClickLabel=function(t){e.setState({label:t},e.getBooksData)},e.failureView=function(){return Object(x.jsxs)("div",{className:"failure-view",children:[Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1735955098/Group_7522_ofuhzp.png",alt:"failure view"}),Object(x.jsx)("p",{children:"Something went wrong. Please try again"}),Object(x.jsx)("button",{type:"button",onClick:e.getBooksData,children:"Try Again"})]})},e.loaderView=function(){return Object(x.jsx)("div",{className:"loader-container",testid:"loader",children:Object(x.jsx)(S.a,{type:"TailSpin",color:"#0284C7",height:50,width:50})})},e.renderBooks=function(){var t=e.state,a=t.searchInput,s=t.booksData,n=s.length>0;return Object(x.jsx)("ul",{className:"books-ul",children:n?s.map((function(e){return Object(x.jsx)(i.b,{to:"/books/".concat(e.id),className:"link",children:Object(x.jsx)("li",{className:"book-item",children:Object(x.jsxs)("div",{className:"book-container",children:[Object(x.jsx)("img",{src:e.coverPic,alt:e.title,className:"cover-pic"}),Object(x.jsxs)("div",{className:"text-container",children:[Object(x.jsx)("h1",{className:"book-title",children:e.title}),Object(x.jsx)("p",{className:"author-name",children:e.authorName}),Object(x.jsxs)("p",{className:"rating",children:["Avg rating ",Object(x.jsx)(P.a,{})," ",e.rating]}),Object(x.jsxs)("p",{className:"status",children:["Status:",Object(x.jsx)("span",{className:"book-status",children:e.readStatus})]})]})]})},e.id)})})):Object(x.jsxs)("div",{className:"failure-view",children:[Object(x.jsx)("img",{src:"https://res.cloudinary.com/student7/image/upload/v1735955249/Asset_1_1_jop0qo.png",alt:"no books"}),Object(x.jsxs)("p",{className:"para",children:["Your search for ",a," did not find any matches."]})]})})},e.renderAll=function(){switch(e.state.apiStatus){case U:return e.renderBooks();case V:return e.failureView();case z:return e.loaderView();default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getBooksData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchInput,s=t.shelf,n=t.label;return Object(x.jsxs)("div",{children:[Object(x.jsx)(R,{}),Object(x.jsxs)("div",{className:"bookshelves-bg",children:[Object(x.jsxs)("div",{className:"label-search-container",children:[Object(x.jsxs)("h1",{className:"status-title",children:[n," Books"]}),Object(x.jsxs)("div",{className:"mob-search-container",children:[Object(x.jsx)("input",{type:"search",placeholder:"Search",className:"search-input",value:a,onChange:this.onChangeSearchInput}),Object(x.jsx)("button",{testid:"searchButton",type:"button",className:"search-btn",onClick:this.onClickSearch,children:Object(x.jsx)(P.b,{className:"search-icon"})})]})]}),Object(x.jsxs)("div",{className:"d-c",children:[Object(x.jsxs)("div",{className:"mobile-content",children:[Object(x.jsx)("h1",{children:"Bookshelves"}),Object(x.jsx)("ul",{className:"labels-container",children:W.map((function(t){return Object(x.jsx)(G,{onClickFilterBooks:e.onClickFilterBooks,onClickLabel:e.onClickLabel,bookshelves:t,isActive:s===t.value})}))})]}),Object(x.jsxs)("div",{className:"desktop-content",children:[Object(x.jsx)("h1",{children:"Bookshelves"}),Object(x.jsx)("ul",{className:"labels-container",children:W.map((function(t){return Object(x.jsx)(G,{onClickFilterBooks:e.onClickFilterBooks,onClickLabel:e.onClickLabel,bookshelves:t})}))})]}),Object(x.jsx)("div",{children:this.renderAll()})]}),Object(x.jsx)(I,{})]})]})}}]),a}(s.Component),q=Y,H=(a(87),"INITIAL"),J="SUCCESS",K="FAILURE",Q="IN_PROGRESS",X=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={bookdetails:{},apiStatus:H},e.getBookDetails=Object(b.a)(u.a.mark((function t(){var a,s,n,c,o,i,r,l,b,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:Q}),a=e.props.match,s=a.params,n=s.id,c=O.a.get("jwt_token"),o="https://apis.ccbp.in/book-hub/books/".concat(n),i={method:"GET",headers:{Authorization:"Bearer ".concat(c)}},t.next=9,fetch(o,i);case 9:return r=t.sent,t.next=12,r.json();case 12:l=t.sent,r.ok?(b=l.book_details,d={aboutAuthor:b.about_author,aboutBook:b.about_book,authorName:b.author_name,coverPic:b.cover_pic,id:b.id,rating:b.rating,readStatus:b.read_status,title:b.title},e.setState({bookdetails:d,apiStatus:J})):e.setState({apiStatus:K});case 14:case"end":return t.stop()}}),t)}))),e.renderBookDetails=function(){var t=e.state.bookdetails;return Object(x.jsxs)("div",{className:"book-details-bg",children:[Object(x.jsxs)("div",{className:"details-card",children:[Object(x.jsxs)("div",{className:"img-and-text-container",children:[Object(x.jsx)("img",{src:t.coverPic,className:"book-details-img",alt:t.title}),Object(x.jsxs)("div",{className:"text-container",children:[Object(x.jsx)("h1",{className:"details-title",children:t.title}),Object(x.jsx)("p",{children:t.authorName}),Object(x.jsxs)("p",{children:["Avg Rating: ",Object(x.jsx)(P.a,{}),t.rating]}),Object(x.jsxs)("p",{className:"status fonts",children:["Status:",Object(x.jsx)("span",{className:"status-span",children:t.readStatus})]})]})]}),Object(x.jsx)("hr",{className:"line"}),Object(x.jsxs)("div",{className:"about-container",children:[Object(x.jsx)("h1",{className:"about-head fonts",children:"About Author"}),Object(x.jsxs)("p",{className:"about-para fonts",children:[t.aboutAuthor," "]}),Object(x.jsx)("h1",{className:"about-head fonts",children:"About Book"}),Object(x.jsx)("p",{className:"about-para fonts",children:t.aboutBook})]})]}),Object(x.jsx)(I,{})]})},e.failureView=function(){return Object(x.jsxs)("div",{className:"failure-view",children:[Object(x.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/failure-img.png",alt:"failure view"}),Object(x.jsx)("p",{children:"Something went wrong. Please try again"}),Object(x.jsx)("button",{type:"button",onClick:e.getBookDetails,children:"Try Again"})]})},e.loaderView=function(){return Object(x.jsx)("div",{className:"loader-container",testid:"loader",children:Object(x.jsx)(S.a,{type:"TailSpin",color:"#0284C7",height:50,width:50})})},e.renderAll=function(){switch(e.state.apiStatus){case J:return e.renderBookDetails();case K:return e.failureView();case Q:return e.loaderView();default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getBookDetails()}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(R,{}),this.renderAll()]})}}]),a}(s.Component),Z=X,$=function(e){return void 0===O.a.get("jwt_token")?Object(x.jsx)(r.a,{to:"/login"}):Object(x.jsx)(r.b,Object(k.a)({},e))},ee=(a(88),function(){return Object(x.jsxs)("div",{className:"not-container",children:[Object(x.jsx)("img",{className:"not-found-img",alt:"not found",src:"https://res.cloudinary.com/student7/image/upload/v1735189519/Group_7484_1_pquxxb.png"}),Object(x.jsx)("h1",{children:"Page Not Found"}),Object(x.jsx)("p",{children:"We are sorry, the page you requested could not be found"}),Object(x.jsx)(i.b,{to:"/",className:"link",children:Object(x.jsx)("button",{type:"button",className:"go-back-to-home-btn",children:"Go Back to Home"})})]})}),te=[{id:"22526c8e-680e-4419-a041-b05cc239ece4",value:"ALL",label:"All"},{id:"37e09397-fab2-46f4-9b9a-66b2324b2e22",value:"READ",label:"Read"},{id:"2ab42512-3d05-4fba-8191-5122175b154e",value:"CURRENTLY_READING",label:"Currently Reading"},{id:"361d5fd4-9ea1-4e0c-bd47-da2682a5b7c8",value:"WANT_TO_READ",label:"Want to Read"}],ae=function(){return Object(x.jsxs)(r.d,{children:[Object(x.jsx)(r.b,{path:"/login",component:v}),Object(x.jsx)($,{exact:!0,path:"/",component:F}),Object(x.jsx)($,{exact:!0,path:"/shelf",bookshelvesList:te,component:q}),Object(x.jsx)($,{exact:!0,path:"/books/:id",component:Z}),Object(x.jsx)(r.b,{component:ee})]})};o.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(ae,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.661129bc.chunk.js.map